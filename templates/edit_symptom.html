{% extends "base.html" %}
{% block content %}

  <div class="row">
{% if session.user %}
    <h3 class="center-align"> Hey {{ username }} here are your current symptoms. </h3>
    <h3> My Symptoms </h3>
<!--show the users symptoms-->
 <ul class="collapsible">
 {% for symptom in symptoms %}
    <li>
      <div class="collapsible-header"><i class="prefix fas fa-viruses"></i><strong>{{ symptom.symptom_name }}, experienced since {{ symptom.start_date}}</strong></div>
      <div class="collapsible-body"><span>Lorem ipsum dolor sit amet.</span></div>
    </li>
{% endfor %}
  </ul>

    <h3> Feel free to update/ delete any of them!</h3>
{% endif %}

  </div>

  <div class="row">
    <h3 class="center-align"> Add your symptoms</h3>
  </div>
<!--new symptom form  -->
     
  <div class="row">
  <!--new symptom form  -->
    <form class="col s12" method="POST" action="{{ url_for('edit_symptom', symptom_id=symptom._id) }}">

<!--status of your self isolation  -->
    <div class="row">
      <div class="input-field col s12">
      <i class="prefix fas fa-house-user"></i>
    <select id="isolation_status" name="isolation_status" class="validate" required>
      <option value="" disabled selected>Status</option>
        {% for stat in status %}
            {% if stat.isolation_status == symptom.isolation_status %}
                <option value="{{ stat.isolation_status }}" selected>{{ stat.isolation_status }}</option>
            {% else %}
                <option value="{{ stat.isolation_status }}">{{ stat.isolation_status }}</option>
            {% endif %}
        {% endfor %}
 
    </select>
    <label for="isolation_status">What's your self isolation status?</label>
  </div>
    </div>

<!--new symptom  -->
      <div class="row">
        <div class="input-field col s6">
          <i class="prefix fas fa-viruses"></i>
          <input id="symptom_name" type="text" name="symptom_name" class="validate" value="{{ symptom.symptom_name }}">
          <label for="symptom_name"><h3>Symptom</h3></label>
        </div>
      </div>
<!-- symptom description -->
      <div class="row">
        <div class="input-field col s6">
          <i class="prefix fas fa-pen-square"></i>
          <textarea  id="description" type="text" name="description" class="validate" required>{{ symptom.description }}</textarea>
          <label for="description">Description</label>
        </div>
      </div>
<!--symptom start date  -->
        <div class="row">
        <div class="input-field col s6">
          <i class="prefix fas fa-calendar-alt"></i>
        <input type="text" class="datepicker validate" id="start_date" name="start_date" required value="{{ symptom.start_date }}">
          <label for="start_date">Start date</label>
        </div>
      </div>
<!--mood -->
        <div class="row">
        <div class="input-field col s6">
          <i class="prefix fas fa-meh"></i>
          <textarea id="mood" type="text" name="mood" class="validate" required>{{ symptom.mood }}</textarea>
          <label for="mood">How is your mood and mental health?</label>
        </div>
      </div>


    <div class="row">
    <!--discard changes button  -->
    <div class="col center-align s6">
            <a class="btn waves-effect waves-light" href="{{url_for('get_symptoms')}}">Cancel
               <i class="fas fa-times-cancel"></i>
             </a>
    </div>
    <div class="col center-align s6">
            <button class="btn waves-effect waves-light " type="submit" name="action">Edit task 
       <i class="fas fa-edit"></i>
  </button>
    </div>
    </div>
    </form>
  </div>
{% endblock %}